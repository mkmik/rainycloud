<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>Partitioner.scala</title>
  <link href="http://circumflex.ru/css/docco.css"
        rel="stylesheet"
        type="text/css"
        media="screen, projection"/>
  <script type="text/javascript" src="http://circumflex.ru/js/highlight.pack.js">
  </script>
  <script type="text/javascript">
    hljs.initHighlightingOnLoad();
  </script>
</head>
<body>
<div id="container">
  <table cellspacing="0" cellpadding="0">
    <thead>
    <tr>
      <th class="docs">
        <h1><a href="../../../index.html" title="Back to index">&larr;</a>&nbsp;&nbsp;Partitioner.scala</h1>
      </th>
      <th class="code"></th>
    </tr>
    </thead>
    <tbody>
    <tr id="section-0">
      <td class="docs">
        <div class="octowrap">
          <a class="octothorpe" href="#section-0">#</a>
        </div>
      
      </td>
      <td class="code">
        <pre class="scala"><code>package it.cnr.aquamaps

import io.Source.fromFile</code></pre>
      </td>
    </tr>
    <tr id="section-1">
      <td class="docs">
        <div class="octowrap">
          <a class="octothorpe" href="#section-1">#</a>
        </div>
      <p>A partitioner creates a partition of the key space. It returns partitions which are describes by ranges over keys.</p>

      </td>
      <td class="code">
        <pre class="scala"><code>trait Partitioner {
  def partitions: Iterator[Partition]
}

case class Partition(val start: String, val size: Long)</code></pre>
      </td>
    </tr>
    <tr id="section-2">
      <td class="docs">
        <div class="octowrap">
          <a class="octothorpe" href="#section-2">#</a>
        </div>
      <p>The simples partitioner is the StaticPartitioner, which simply reads key ranges from a precomputed file</p>

      </td>
      <td class="code">
        <pre class="scala"><code>class StaticPartitioner extends Partitioner {
  def toPartition(line: String) = {
    val Array(s, k) = line.trim split &quot; &quot;
    Partition(k, s.toInt)
  }

  val rangesFile = &quot;octo/client/rangesSmall&quot;

  def partitions = fromFile(rangesFile).getLines map toPartition
}</code></pre>
      </td>
    </tr>
  </table>
</div>
</body>
</html>